.ui.following.bar.fixed.menu
  .uk-container
    #navbar.ui.large.secondary.network.menu
      -# TODO: I18n
      = link_to("EOL", "/", class: "item uk-logo")
      = link_to("About", "/about", class: "item")
      = link_to("Education", "http://education.eol.org/", class: "item")
      = link_to("Donate", "/donate", class: "item")
      .ui.simple.dropdown.item
        - langs = languages_hash
        - keys = langs.keys
        - keys.delete_at(keys.index(I18n.locale))
        - button_text = langs[I18n.locale] || "Language"
        = link_to(button_text, "#", class: "ui basic button", type: "button")
        .uk-list.uk-padding-small{ uk: { dropdown: true } }
          - keys.each do |key|
            %li= link_to(langs[key], lang: key)
      .right.menu
        .nav-search.item
          -# TODO: move this to where you'll use it...
          -# .autocomplete-result.row
          -#   .icon.col-md-2
          -#     %a{ href: "#" }
          -#       %img{ "ng-src" => "{{ match.model.top_image.small_icon_url }}" }
          -#   .names.col-md-10
          -#     %a{ href: "#" }
          -#       %ul
          -#         %li{ "ng-repeat" => "vern in match.model.names",
          -#           "ng-bind-html" => "vern.string + ' (' + vern.language.code + ') ' | typeaheadHighlight:query" }
          = form_tag(main_app.search_path, method: "get", autocomplete: "off", class: "uk-search uk-search-default") do |f|
            = text_field_tag("q", nil, class: "uk-search-input")
            %span.uk-search-icon-flip{ uk: { search: { icon: true } } }
            -# # "typeahead" => "page for page in querySearch($viewValue)",
            -# # "typeahead-template-url" => "layoutSearchTemplate.html",
            -# # "typeahead-min-length" => 3,
            -# # "typeahead-on-select" => "onSelect($item, $model, $label)",
            -# # "typeahead-input-formatter" => "nameOfModel($model)",
        - if current_user
          .item= link_to(current_user.username, main_app.user_path(current_user))
          .item= link_to(t(:layout_sign_out), main_app.destroy_user_session_path)
        - else
          .item= link_to(t(:layout_sign_in), main_app.new_user_session_path)
          .item= link_to(t(:layout_sign_up), main_app.new_user_registration_path)
