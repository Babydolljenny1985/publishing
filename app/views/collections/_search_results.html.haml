.search_result_container
  .ui.inverted.dimmer
    .ui.loader
  %h2= t("search_results.section_titles.collections", count: @collections.total_count)
  = paginate @collections.results, remote: true, params: { only: "collections" }
  %ul.uk-list
    - @collections.records.each_with_index do |collection, i|
      - result = @collections.results[i]
      %li.uk-card.uk-card-hover.eol-bright.uk-box-shadow-small
        .uk-card-body.uk-grid-small{ uk: { grid: true } }
          .eol-width-medium-icon
            -# TODO: collections don't have icons yet; change this.
            = link_to(image_tag("medium/collection.png"), collection)
          .uk-width-expand
            .names
              - name = result.try(:highlight).try(:name).try(:first) || emphasize_match(collection.name.titleize, @q)
              = link_to(name.titleize.html_safe, collection, class: "primary-name")
            .fields
              - desc = result.try(:highlight).try(:description).try(:first) || emphasize_match(collection.description, @q)
              - unless @q.blank?
                %b= t("search_results.field_matches.description")
              = desc.html_safe
  = paginate @collections.results, remote: true, params: { only: "collections" }
